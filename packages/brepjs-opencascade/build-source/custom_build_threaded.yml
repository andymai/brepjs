#@ load("defaults.yml", "bindings", "emccFlags", "additionalCppCode")

mainBuild:
  name: brepjs_threaded.js
  bindings: #@ bindings()
  emccFlags:
  #@ for flag in emccFlags():
  - #@ flag
  #@ end
  - -sDISABLE_EXCEPTION_CATCHING=1
  - -pthread
  - -sPTHREAD_POOL_SIZE=navigator.hardwareConcurrency
  - -sSHARED_MEMORY=1
  - -sINITIAL_MEMORY=134217728
  - -sMAXIMUM_MEMORY=4294967296
additionalCppCode: #@ additionalCppCode()
